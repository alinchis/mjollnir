<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../../bower_components/iron-selector/iron-selector.html">

<dom-module id="dataset-query">

  <template>

    <style>
      :host {
        color: gray;
        display: flex;
        display: -webkit-flex; /* Safari */
        -webkit-flex-direction: row;
	      flex-direction: row;
        flex-grow: 1;
        font-family: sans-serif;
      }

      .buttons {
        cursor: pointer;
        flex-grow: 0;
        height: 20px;
        padding-left: 5px;
      }
      .code-line {
        display: flex;
        display: -webkit-flex; /* Safari */
        -webkit-flex-direction: row;
	      flex-direction: row;
      }
      .column {
        border-right: 1px solid gray;
        padding-left: 5px;
        padding-right: 5px;
        text-align: center;
        width: 150px;
      }
      .column.number {
        text-align: right;
      }
      .column.missing {
        border: none;
        color: red;
      }
      .column-no {
        border-left: 1px solid gray;
        border-right: 1px solid gray;
        padding-left: 5px;
        padding-right: 5px;
        text-align: center;
        width: 50px;
      }
      .column-no.number {
        text-align: right;
      }
      .comp-item {
        font-size: 0.7em;
        padding: 2px;
      }
      .comp-item.iron-selected {
        background: rgb(250, 250, 250);
      }
      .comp-list {
        background-color: rgb(200, 200, 200);
        color: black;
        cursor: pointer;
        flex-grow: 1;
        padding: 5px;
      }
      .component {
        display: flex;
        display: -webkit-flex; /* Safari */
        -webkit-flex-direction: column;
	      flex-direction: column;
        flex-grow: 1;
      }
      .components-box {
        flex-grow: 1;
        padding: 5px;
      }
      .components-list {
        flex-grow: 1;
      }
      .components-query {
        background-color: rgb(50, 50, 50);
        display: flex;
        display: -webkit-flex; /* Safari */
        -webkit-flex-direction: column;
	      flex-direction: column;
        flex-grow: 1;
      }
      .keywords-box {
        display: flex;
        display: -webkit-flex; /* Safari */
        -webkit-flex-direction: column;
	      flex-direction: column;
        background: rgb(50, 50, 50);
        flex-grow: 0;
        width: 200px;
      }
      .keywords-list {
        display: flex;
        display: -webkit-flex; /* Safari */
        -webkit-flex-direction: column;
	      flex-direction: column;
        flex-grow: 1;
        padding: 5px;
      }
      .keywords-query {
        border-left: 1px solid rgb(55, 55, 55);
        border-right: 1px solid rgb(55, 55, 55);
        border-top: 1px solid rgb(55, 55, 55);
        display: flex;
        display: -webkit-flex; /* Safari */
        -webkit-flex-direction: column;
	      flex-direction: column;
        flex-grow: 1;
      }
      .line-no {
        border-right: 1px solid yellow;
        text-align: right;
        padding-right: 5px;
        width: 20px;
      }
      .line-text {
        color: white;
        padding-left: 5px;
      }
      .line-text > span {
        color: #58C;
        font-weight: bold;
      }
      .list {
        background-color: rgb(200, 200, 200);
        color: black;
        cursor: pointer;
        flex-grow: 1;
        padding: 5px;
      }
      .list-item {
        font-size: 0.7em;
        padding: 2px;
      }
      .list-item.iron-selected {
        background: rgb(250, 250, 250);
      }
      .query-bundle {
        background-color: rgb(50, 50, 50);
        display: flex;
        display: -webkit-flex; /* Safari */
        -webkit-flex-direction: row;
	      flex-direction: row;
        padding: 5px;
      }
      .query-code-cli {
        display: flex;
        display: -webkit-flex; /* Safari */
        -webkit-flex-direction: column;
	      flex-direction: calumn;
        background-color: rgb(100, 100, 100);
        flex-grow: 1;
      }
      .query-code-cli > div {
        padding: 5px;
      }
      .query-code-header {
        background-color: rgb(40, 40, 40);
        display: flex;
        display: -webkit-flex; /* Safari */
        -webkit-flex-direction: row;
	      flex-direction: row;
        justify-content: space-between;
        padding: 10px;
      }
      .query-code-header > div {
        cursor: pointer;
      }
      .query-graph {
        align-items: center;
        background-color: white;
        display: flex;
        display: -webkit-flex; /* Safari */
        -webkit-flex-direction: row;
	      flex-direction: row;
        height: 350px;
        justify-content: center;
      }
      .query-graph.zero {
        min-width: 503.3px;
      }
      .query-graph > img {
        height: 350px;
      }
      .query-message {
        height: 43px;
      }
      .query-page {
        background-color: rgb(150, 150, 150);
        display: flex;
        display: -webkit-flex; /* Safari */
        -webkit-flex-direction: column;
	      flex-direction: column;
        flex-grow: 1;
      }
      .query-query {
        background-color: rgb(50, 50, 50);
        display: flex;
        display: -webkit-flex; /* Safari */
        -webkit-flex-direction: column;
	      flex-direction: column;
        flex-grow: 1;
        justify-content: center;
        padding-right: 5px
      }
      .query-sample {
        background-color: rgb(50, 50, 50);
        display: flex;
        display: -webkit-flex; /* Safari */
        -webkit-flex-direction: column;
	      flex-direction: column;
        flex-grow: 1;
        padding: 5px;
      }
      .sample-table {
        border: 1px solid white;
        background-color: rgb(200, 200, 200);
        display: flex;
        display: -webkit-flex; /* Safari */
        -webkit-flex-direction: column;
	      flex-direction: column;
      }
      .tab-icon {
        --iron-icon-fill-color: rgb(200, 200, 200);
        height: 16px;
        width: 16px;
      }
      .table-header {
        align-items: center;
        background-color: rgb(89, 89, 89);
        border-bottom: 1px solid white;
        color: white;
        display: flex;
        display: -webkit-flex; /* Safari */
        -webkit-flex-direction: row;
	      flex-direction: row;
        font-weight: bold;
        height: 30px;
        justify-content: center;
      }
      .table-row {
        align-items: center;
        border-bottom: 1px solid white;
        display: flex;
        display: -webkit-flex; /* Safari */
        -webkit-flex-direction: row;
	      flex-direction: row;
        height: 25px;
        justify-content: center;
      }
      .title {
        flex-grow: 0;
        font-size: 0.8em;
        height: 30px;
      }
      .tools-footer {
        background-color: rgb(35, 35, 35);
        border-top: 1px solid rgb(60, 60, 60);
        height: 20px;
        padding-left: 10px;
      }
      .tools-footer-button {
        width: 16px;
        height: 16px;
        padding: 0px;
        margin-left, margin-right: 12px;
        margin-top, margin-bottom: 6px;
      }

    </style>

    <section class="keywords-box">
      <section class="keywords-list">
        <section class="title">keywords</section>
        <section class="buttons">
          <iron-icon class="tab-icon" icon="add-circle" title="create"></iron-icon>
          <iron-icon class="tab-icon" icon="remove-circle" title="remove"></iron-icon>
          <iron-icon class="tab-icon" icon="create" title="edit"></iron-icon>
        </section>
        <iron-selector class="list" selected="{{selected}}">
          <div class="list-item">territorial cohesion index</div>
          <div class="list-item">inter-communality</div>
          <div class="list-item">public service provision</div>
          <div class="list-item">peri-urban areas</div>
        </iron-selector>
      </section>

      <section class="components-box">
        <iron-pages class="components-list" selected={{selected}}>
          <section class="component">
            <section class="title">keyword components</section>
            <section class="buttons">
              <iron-icon class="tab-icon" icon="add-circle" title="create"></iron-icon>
              <iron-icon class="tab-icon" icon="remove-circle" title="remove"></iron-icon>
              <iron-icon class="tab-icon" icon="create" title="edit"></iron-icon>
            </section>
            <iron-selector class="comp-list" selected="{{selected2}}">
              <div class="comp-item">population</div>
              <div class="comp-item">time-distance</div>
              <div class="comp-item">space-distance</div>
            </iron-selector>
          </section>
          <section class="component">
            <section class="title">keyword components</section>
            <section class="buttons">
              <iron-icon class="tab-icon" icon="add-circle" title="create"></iron-icon>
              <iron-icon class="tab-icon" icon="remove-circle" title="remove"></iron-icon>
              <iron-icon class="tab-icon" icon="create" title="edit"></iron-icon>
            </section>
            <iron-selector class="comp-list" selected="{{selected2}}">
              <div class="comp-item">population</div>
              <div class="comp-item">space-distance</div>
              <div class="comp-item">time-distance</div>
            </iron-selector>
          </section>
          <section class="component">
            <section class="title">keyword components</section>
            <section class="buttons">
              <iron-icon class="tab-icon" icon="add-circle" title="create"></iron-icon>
              <iron-icon class="tab-icon" icon="remove-circle" title="remove"></iron-icon>
              <iron-icon class="tab-icon" icon="create" title="edit"></iron-icon>
            </section>
            <iron-selector class="comp-list" selected="{{selected2}}">
              <div class="comp-item">space-distance</div>
              <div class="comp-item">time-distance</div>
            </iron-selector>
          </section>
          <section class="component">
            <section class="title">keyword components</section>
            <section class="buttons">
              <iron-icon class="tab-icon" icon="add-circle" title="create"></iron-icon>
              <iron-icon class="tab-icon" icon="remove-circle" title="remove"></iron-icon>
              <iron-icon class="tab-icon" icon="create" title="edit"></iron-icon>
            </section>
            <iron-selector class="comp-list" selected="{{selected2}}">
              <div class="comp-item">population</div>
              <div class="comp-item">space-distance</div>
              <div class="comp-item">time-distance</div>
            </iron-selector>
          </section>
        </iron-pages>
      </section>
      <footer class="tools-footer">
        <paper-icon-button class="tools-footer-button" icon="settings" title="settings"></paper-icon-button>
      </footer>
    </section>

    <section class="keywords-query">
      <iron-pages class="components-query" selected="{{selected2}}">

        <div class="query-page">
          <div class="query-bundle">

            <div class="query-query">
              <div class="query-code-header">
                <div>RUN | STOP</div>
                <div>CLEAR</div>
              </div>
              <div class="query-code-cli">
                <div class="code-line">
                  <div class="line-no">1</div>
                  <div class="line-text"><span>MATCH</span> (node:Population)</div>
                </div>
                <div class="code-line">
                  <div class="line-no">2</div>
                  <div class="line-text"><span>WHERE</span> node.year=2010</div>
                </div>
                <div class="code-line">
                  <div class="line-no">3</div>
                  <div class="line-text"><span>RETURN</span> node.siruta, node.locality, node.population</div>
                </div>
              </div>
            </div>
            <div class="query-graph">
              <img src="http://mjollnir-sws.ro/page_assets/components_graph_01.png" alt="components-graph">
            </div>

          </div>

          <div class="query-sample">
            <div class="query-message">Query returned 13,725 rows.</div>
            <div class="sample-table">
              <div class="table-header">
                <div class="column-no">#</div>
                <div class="column">Siruta</div>
                <div class="column">Locality</div>
                <div class="column">Population</div>
              </div>
              <div class="table-row">
                <div class="column-no number"></div>
                <div class="column"></div>
                <div class="column"></div>
                <div class="column number missing" title="missing data">425</div>
              </div>
              <div class="table-row">
                <div class="column-no number">1</div>
                <div class="column">2483</div>
                <div class="column">Adjud</div>
                <div class="column number">16045</div>
              </div>
              <div class="table-row">
                <div class="column-no number">2</div>
                <div class="column">8863</div>
                <div class="column">Aiud</div>
                <div class="column number">22876</div>
              </div>
              <div class="table-row">
                <div class="column-no number">3</div>
                <div class="column">2231</div>
                <div class="column">Alba Iulia</div>
                <div class="column number">63536</div>
              </div>
              <div class="table-row">
                <div class="column-no number">4</div>
                <div class="column">5196</div>
                <div class="column">Alexandria</div>
                <div class="column number">45434</div>
              </div>
              <div class="table-row">
                <div class="column-no number">5</div>
                <div class="column">6831</div>
                <div class="column">Arad</div>
                <div class="column number">159074</div>
              </div>
              <div class="table-row">
                <div class="column-no number">6</div>
                <div class="column">7893</div>
                <div class="column">Bacău</div>
                <div class="column number">144307</div>
              </div>
              <div class="table-row">
                <div class="column-no number">7</div>
                <div class="column">2341</div>
                <div class="column">Baia Mare</div>
                <div class="column number">123738</div>
              </div>
              <div class="table-row">
                <div class="column-no number">8</div>
                <div class="column">2340</div>
                <div class="column">Baia Sprie</div>
                <div class="column number">15476</div>
              </div>
              <div class="table-row">
                <div class="column-no number">9</div>
                <div class="column">1034</div>
                <div class="column">Băicoi</div>
                <div class="column number">17981</div>
              </div>
              <div class="table-row">
                <div class="column-no number">10</div>
                <div class="column">5892</div>
                <div class="column">Băilești</div>
                <div class="column number">17437</div>
              </div>
              <div class="table-row">
                <div class="column-no number">11</div>
                <div class="column">4812</div>
                <div class="column">Balș</div>
                <div class="column number">18164</div>
              </div>
            </div>
          </div>

        </div>

        <div class="query-page">
          <div class="query-bundle">

            <div class="query-query">
              <div class="query-code-header">
                <div>RUN | STOP</div>
                <div>CLEAR</div>
              </div>
              <div class="query-code-cli">
                <div class="code-line">
                  <div class="line-no">1</div>
                  <div class="line-text"><span>MATCH</span> ()-[relation:Time]->()</div>
                </div>
                <div class="code-line">
                  <div class="line-no">2</div>
                  <div class="line-text"><span>RETURN</span> relation.duration</div>
                </div>
              </div>
            </div>
            <div class="query-graph zero"></div>

          </div>

          <div class="query-sample">
            <div class="query-message">Query returned 0 rows.</div>
            <div class="sample-table">
              <div class="table-header">
                <div class="column-no">#</div>
                <div class="column">Duration</div>
              </div>
            </div>
          </div>

        </div>

        <div class="query-page">
          <div class="query-bundle">

            <div class="query-query">
              <div class="query-code-header">
                <div>RUN | STOP</div>
                <div>CLEAR</div>
              </div>
              <div class="query-code-cli">
                <div class="code-line">
                  <div class="line-no">1</div>
                  <div class="line-text"><span>MATCH</span> ()-[relation:Distance]->()</div>
                </div>
                <div class="code-line">
                  <div class="line-no">2</div>
                  <div class="line-text"><span>RETURN</span> relation.length</div>
                </div>
              </div>
            </div>
            <div class="query-graph zero"></div>

          </div>

          <div class="query-sample">
            <div class="query-message">Query returned 0 rows.</div>
            <div class="sample-table">
              <div class="table-header">
                <div class="column-no">#</div>
                <div class="column">Length</div>
              </div>
            </div>
          </div>

        </div>


      </iron-pages>
      <footer class="tools-footer">
        <paper-icon-button class="tools-footer-button" icon="settings" title="settings"></paper-icon-button>
      </footer>
    </section>

  </template>

  <script>

    Polymer({

      is: 'dataset-query',
      properties: {
        selected: {
          type: Number,
          value: 0
        },
        selected2: {
          type: Number,
          value: 0
        }
      }
    })

  </script>

</dom-module>
