<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../../bower_components/iron-icons/image-icons.html">
<link rel="import" href="../../../bower_components/iron-icons/social-icons.html">
<link rel="import" href="../../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../../bower_components/iron-selector/iron-selector.html">

<dom-module id="stage-processing">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gojs/1.6.11/go.js"></script>

  <script id="code">
      function init() {
          //if (window.goSamples) goSamples();  // init for these samples -- you don't need to call this

          var $ = go.GraphObject.make;  // for conciseness in defining templates

          myDiagram = $(go.Diagram, "myDiagramDiv",  // create a Diagram for the DIV HTML element
                        {
                          initialContentAlignment: go.Spot.Center,  // center the content
                          "undoManager.isEnabled": true  // enable undo & redo
                        });

          // define a simple Node template
          myDiagram.nodeTemplate =
            $(go.Node, "Auto",  // the Shape will go around the TextBlock
              $(go.Shape, "RoundedRectangle", { strokeWidth: 0},
                // Shape.fill is bound to Node.data.color
                new go.Binding("fill", "color")),
              $(go.TextBlock,
                { margin: 8 },  // some room around the text
                // TextBlock.text is bound to Node.data.key
                new go.Binding("text", "key"))
            );

          // but use the default Link template, by not setting Diagram.linkTemplate

          // create the model data that will be represented by Nodes and Links
          myDiagram.model = new go.GraphLinksModel(
          [
            { key: "Alpha", color: "lightblue" },
            { key: "Beta", color: "orange" },
            { key: "Gamma", color: "lightgreen" },
            { key: "Delta", color: "pink" }
          ],
          [
            { from: "Alpha", to: "Beta" },
            { from: "Alpha", to: "Gamma" },
            { from: "Beta", to: "Beta" },
            { from: "Gamma", to: "Delta" },
            { from: "Delta", to: "Alpha" }
          ]);
        }

  </script>

  <template>
    <style>
      :host {
        display: flex;
        flex-direction: row;
        border: 2px solid coral;
      }
      .sources {
        border: 1px solid white;
        flex: 0;
        min-width: 160px;
      }
      .workarea {
        border: 1px solid orange;
        flex: 1;
        min-width: 400px;
      }
      .tools {
        border: 1px solid magenta;
        flex: 0;
        min-width: 200px;
      }
    </style>

    <section class="sources">
    </section>

    <section class="workarea">
        <div id="myDiagramDiv" style="border: solid 1px orange; width:400px; height:400px"></div>
    </section>

    <section class="tools">
    </section>

  </template>

  <script>
    Polymer({
      is: 'stage-flowcharts'
    })
  </script>

</dom-module>
